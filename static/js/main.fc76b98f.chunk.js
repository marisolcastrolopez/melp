(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){},38:function(e,t,a){e.exports=a(67)},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);a(39),a(40),a(41);var n=a(0),r=a.n(n),c=a(9),l=a.n(c),o=a(14),i=a(11),s=a(12),u=a(16),p=a(13),m=a(21),h=a(15),d=a(3),g=a(24),f={position:"absolute",width:"100%",height:"100%"},E=function(e){function t(e){var a;Object(i.a)(this,t);var n=(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).props.initialCenter,r=n.lat,c=n.lng;return a.state={currentLocation:{lat:r,lng:c}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(t){var a=t.coords;e.setState({currentLocation:{lat:a.latitude,lng:a.longitude}})}),this.loadMap()}},{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,a=l.a.findDOMNode(t),n=this.props.zoom,r=this.state.currentLocation,c=r.lat,o=r.lng,i=new e.LatLng(c,o),s=Object.assign({},{center:i,zoom:n});this.map=new e.Map(a,s)}}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,a=this.props.google.maps;if(e){var n=new a.LatLng(t.lat,t.lng);e.panTo(n)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return r.a.Children.map(t,function(t){if(t)return r.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})})}},{key:"render",value:function(){var e=Object.assign({},f);return r.a.createElement("div",null,r.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(r.a.Component),v=E;E.defaultProps={zoom:17,initialCenter:{lat:20.6736,lng:-103.344},centerAroundCurrentLocation:!1,visible:!0};var b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=(Array.isArray(this.props.data)?this.props.data:this.props.data.restaurants).map(function(t,a){return r.a.createElement(g.Marker,{onClick:e.onMarkerClick,name:t.name,position:{lat:t.address.location.lat,lng:t.address.location.lng},key:a,info:t.shortDescription,category:t.category,price:t.avgPrice})});return r.a.createElement(v,{centerAroundCurrentLocation:!0,google:this.props.google},t,r.a.createElement(g.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("h4",null,this.state.selectedPlace.name),r.a.createElement("p",null,this.state.selectedPlace.info),r.a.createElement("p",null,this.state.selectedPlace.category),r.a.createElement("p",null,"$",this.state.selectedPlace.price))))}}]),t}(n.Component),y=Object(g.GoogleApiWrapper)({apiKey:"AIzaSyBrKMm2g8gMfsU_JtKF6fkgdtw1ED3ShgU"})(b),k=(a(65),function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=Array.isArray(this.props.data)?this.props.data:this.props.data.restaurants;return r.a.createElement("div",null,r.a.createElement(d.c,null,e.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement(d.k,{className:"cardstyle"},r.a.createElement(d.a,{size:"4",xs:"4"},r.a.createElement("div",null,r.a.createElement("img",{src:e.image,alt:"icon-btn",style:{height:"".concat(6,"rem"),width:"".concat(6,"rem")}}))),r.a.createElement(d.a,{size:"6",xs:"6"},r.a.createElement("h6",null,e.name),r.a.createElement("p",null,e.shortDescription),r.a.createElement("p",null,e.address.street)),r.a.createElement(d.a,{size:"2",xs:"2"},r.a.createElement("span",null,r.a.createElement("i",{style:{display:"block",fontSize:10},class:"fas fa-star"})," ",e.rating)," ",r.a.createElement("br",null),r.a.createElement("span",null,"$",e.avgPrice))))})))}}]),t}(n.Component)),w=(a(32),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){var t=e.target.value;a.props.eventSearch(t)},a.state={places:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"searchinput"},r.a.createElement("input",{className:"searchinput",type:"text",placeholder:"Search..",value:this.props.searchQuery,onChange:this.handleChange}))}}]),t}(n.Component)),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).switchToMap=function(){a.setState({isMap:!0})},a.switchToCards=function(){a.setState({isMap:!1})},a.handlerSearch=function(e){a.setState({searchQuery:e})},a.switchToCards=a.switchToCards.bind(Object(m.a)(a)),a.switchToMap=a.switchToMap.bind(Object(m.a)(a)),a.state={isMap:!1,collapse:!1,searchQuery:"",places:[]},a.onClick=a.onClick.bind(Object(m.a)(a)),a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"onClick",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"compareValues",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";return function(a,n){if(!a.hasOwnProperty(e)||!n.hasOwnProperty(e))return 0;var r="string"===typeof a[e]?a[e].toUpperCase():a[e],c="string"===typeof n[e]?n[e].toUpperCase():n[e],l=0;return r>c?l=1:r<c&&(l=-1),"desc"==t?-1*l:l}}},{key:"componentDidMount",value:function(){var e=this;fetch("https://melp-backend.herokuapp.com/places").then(function(e){return e.json()}).then(function(t){e.setState({places:t.places},function(){return console.log("places",e.state.places)})})}},{key:"render",value:function(){var e,t=this,a={backgroundColor:"#292929",paddingTop:"".concat(1,"rem")},n=this.state.isMap,c=this.state.places.filter(function(e){return new RegExp(t.state.searchQuery,"i").exec(JSON.stringify(e))}).sort(this.compareValues("rating","desc"));return n?(console.log(c),e=r.a.createElement(y,{data:c})):(console.log(c),e=r.a.createElement(k,{data:c})),r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement(o.a,null,r.a.createElement("header",null,r.a.createElement(d.h,{style:a,dark:!0,expand:"md",scrolling:!0,fixed:"top"},r.a.createElement(w,{className:"searchinput",style:{marginTop:"".concat(2.5,"rem")},searchQuery:this.state.searchQuery,eventSearch:this.handlerSearch}),r.a.createElement(d.j,{onClick:this.onClick}),r.a.createElement(d.b,{isOpen:this.state.collapse,navbar:!0},r.a.createElement(d.i,{left:!0},r.a.createElement(d.f,{active:!0},r.a.createElement(d.g,{to:"#"},"Home")),r.a.createElement(d.f,null,r.a.createElement(d.g,{to:"#"},"Saved")),r.a.createElement(d.f,null,r.a.createElement(d.g,{to:"#"},"Add"))))))))),r.a.createElement("div",{style:{paddingTop:80}},r.a.createElement("button",{className:"btnswitch",onClick:this.switchToCards},"Cards "),r.a.createElement("button",{className:"btnswitch",onClick:this.switchToMap},"Map")),r.a.createElement("section",null,e),r.a.createElement("footer",null,r.a.createElement("div",null),r.a.createElement(d.c,{className:"navbarbottom"},r.a.createElement(d.k,null,r.a.createElement(d.a,null,r.a.createElement("a",{href:"#home",className:"active"},"Home"," ",r.a.createElement(d.d,{style:{display:"block",marginTop:"".concat(.2,"rem")},icon:"home",size:"2x"}))),r.a.createElement(d.a,null," ",r.a.createElement("a",{href:"#news"},"Add Place"," ",r.a.createElement(d.d,{style:{display:"block",marginTop:"".concat(.2,"rem")},icon:"plus-circle",size:"2x"}))),r.a.createElement(d.a,null,r.a.createElement("a",{href:"#contact"},"Saved"," ",r.a.createElement(d.d,{style:{display:"block",marginTop:"".concat(.2,"rem")},icon:"bookmark",size:"2x"})))))))}}]),t}(n.Component),O=a(20),j=(a(66),function(){return r.a.createElement(d.c,null,r.a.createElement(d.k,null,r.a.createElement(d.a,{md:"6"},r.a.createElement("form",{className:"form-padding"},r.a.createElement("p",{className:"h5 text-center mb-4"},"Sign in"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(d.e,{label:"Type your email",group:!0,type:"email",validate:!0,error:"wrong",success:"right"}),r.a.createElement(d.e,{label:"Type your password",group:!0,type:"password",validate:!0})),r.a.createElement("div",{className:"text-center btn-login"},r.a.createElement(o.c,{className:"link-login",to:"/app"},"Login"))))))}),M=function(){return r.a.createElement("main",null,r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/",component:j}),r.a.createElement(O.a,{path:"/app",component:C})))};var S=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.b,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.fc76b98f.chunk.js.map